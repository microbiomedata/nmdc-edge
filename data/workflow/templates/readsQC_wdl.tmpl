Array[File] <WORKFLOW>_input_files
String? <WORKFLOW>_outdir
String <WORKFLOW>_database="/refdata"
String <WORKFLOW>_proj="test"
Boolean <WORKFLOW>_input_interleaved=true
Array[File] <WORKFLOW>_input_fq1
Array[File] <WORKFLOW>_input_fq2

call <WORKFLOW>_preprocess.readsqc_preprocess as readsqc_preprocess {
    input:
        input_files=<WORKFLOW>_input_files,
        outdir=<WORKFLOW>_outdir,
        input_interleaved=<WORKFLOW>_input_interleaved,
        input_fq1=<WORKFLOW>_input_fq1,
        input_fq2=<WORKFLOW>_input_fq2
}
Array[File] scatter_files = readsqc_preprocess.input_files_gz
scatter(file in scatter_files) {
    call <WORKFLOW>.nmdc_rqcfilter  as <ALIAS> {
        input:
            input_files=file,
            proj=<WORKFLOW>_proj,
            database=<WORKFLOW>_database
    }
}

call <WORKFLOW>_output.readsqc_output as readsqc_output {
    input:
        input_files = nmdc_rqcfilter.filtered_final,
        outdir = <WORKFLOW>_outdir
}
